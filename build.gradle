buildscript {
   repositories { 
      mavenLocal() 
      jcenter()
      mavenCentral()
   }
   dependencies {
      classpath("org.springframework.boot:spring-boot-gradle-plugin:2.0.0.RELEASE")
   }
}
plugins { 
   id "io.spring.dependency-management" version "1.0.4.RELEASE" 
   id "com.github.kt3k.coveralls" version "2.8.1" 
   // id "de.aaschmid.cpd" version "1.0"
   id "org.owasp.dependencycheck" version "3.1.2"
   id "com.dorongold.task-tree" version "1.3"
   id "org.ajoberstar.grgit" version "2.0.1"
   // id "com.github.spotbugs" version "1.6.1"
   id "com.jfrog.bintray" version "1.7.3"
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'
apply plugin: 'jacoco'





jar {
   baseName = 'auth-service'
   version =  '0.1'
}

repositories {
   mavenLocal() 
   jcenter()
   mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

configurations {
   all*.exclude module : 'spring-boot-starter-logging'
}

dependencies {
   compile("org.springframework.boot:spring-boot-starter")
   compile("org.springframework.boot:spring-boot-starter-data-rest")
   compile("org.springframework.boot:spring-boot-starter-web")
   compile("org.springframework.boot:spring-boot-starter-security")
   compile("org.springframework.boot:spring-boot-starter-actuator")
   compile("org.springframework.boot:spring-boot-starter-data-jpa")
   compile("org.springframework.security:spring-security-config")
   compile("org.springframework.security:spring-security-acl")
   compile("org.springframework:spring-context-support")
   compile("org.springframework.boot:spring-boot-starter-amqp")
   compile("org.javers:javers-spring-boot-starter-sql:3.9.0")

   compile("io.springfox:springfox-swagger2:2.9.0")
   compile("io.springfox:springfox-swagger-ui:2.9.0")

   compile("edu.kit.datamanager:service-base:0.1")

   compile("com.monitorjbl:spring-json-view:0.16")
   compile("org.postgresql:postgresql:42.2.1")

   compileOnly('org.projectlombok:lombok')
     
   testCompile("com.h2database:h2:1.4.194")
   testCompile("org.springframework.restdocs:spring-restdocs-mockmvc")
   testCompile("org.springframework.boot:spring-boot-starter-test")   
   testCompile("org.springframework:spring-test")
   testCompile 'org.springframework.security:spring-security-test'
}

jacocoTestReport {
   reports {
      xml.enabled true
      html.enabled true
   }
}